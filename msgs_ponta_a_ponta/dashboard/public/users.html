<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gerenciar Usu치rios - P2P Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/dashboard-styles.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <div class="header-title">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="header-icon"
          >
            <path
              d="M15 14s1 0 1-1-1-4-6-4-6 3-6 4 1 1 1 1zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022ZM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"
            />
          </svg>
          <h1>Gerenciamento de Usu치rios</h1>
        </div>
        <div class="header-actions">
          <a href="/" class="btn btn-secondary">Voltar ao Dashboard</a>
          <button id="add-user-btn" class="btn btn-primary">
            Novo Usu치rio
          </button>
        </div>
      </header>
      <nav class="breadcrumbs" aria-label="Breadcrumb">
        <a href="/">游늵 Dashboard</a>
        <span class="separator">/</span>
        <span class="current">游논 Usu치rios</span>
      </nav>

      <main>
        <div class="card">
          <div class="table-responsive-wrapper">
            <table class="users-table" id="users-table">
              <thead>
                <tr>
                  <th>Nome</th>
                  <th>Usu치rio</th>
                  <th>Fun칞칚o</th>
                  <th>Criado em</th>
                  <th class="actions-column">A칞칫es</th>
                </tr>
              </thead>
              <tbody>
                <!-- Linhas ser칚o preenchidas dinamicamente via JavaScript -->
              </tbody>
            </table>
          </div>
        </div>
      </main>
    </div>

    <!-- Modal de Edi칞칚o/Cria칞칚o -->
    <div id="userModal" class="modal-overlay">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="modalTitle">Novo Usu치rio</h2>
          <button
            id="close-modal-btn"
            class="close-btn"
            aria-label="Fechar modal"
          >
            &times;
          </button>
        </div>
        <form id="userForm">
          <input type="hidden" id="userId" />
          <div class="form-group">
            <label for="userName">Nome Completo</label>
            <input type="text" id="userName" class="form-control" required />
          </div>
          <div class="form-group">
            <label for="userLogin">Nome de Usu치rio (Login)</label>
            <input type="text" id="userLogin" class="form-control" required />
          </div>
          <div class="form-group">
            <label for="userPass">Senha</label>
            <input
              type="password"
              id="userPass"
              class="form-control"
              placeholder="Deixe em branco para manter a atual (edi칞칚o)"
            />
          </div>
          <div class="form-group">
            <label for="userRole">Fun칞칚o</label>
            <select id="userRole" class="form-control">
              <option value="user">Usu치rio</option>
              <option value="gerente">Gerente</option>
              <option value="admin">Administrador</option>
            </select>
          </div>
          <div class="modal-actions">
            <button
              type="button"
              id="cancel-modal-btn"
              class="btn btn-secondary"
            >
              Cancelar
            </button>
            <button type="submit" class="btn btn-primary">Salvar</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal de Confirma칞칚o -->
    <div id="confirmation-modal" class="modal-overlay">
      <div class="modal-content">
        <h2 id="confirmation-title">Confirmar A칞칚o</h2>
        <p id="confirmation-message">Voc칡 tem certeza?</p>
        <div class="modal-actions">
          <button id="cancel-btn" class="btn btn-secondary">Cancelar</button>
          <button id="confirm-btn" class="btn btn-danger">Confirmar</button>
        </div>
      </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    <footer class="main-footer">
      &copy; 2025 P2P Secure Chat. Todos os direitos reservados.
    </footer>

    <!-- O script js/users.js controlar치 a l칩gica de abrir/fechar modal e CRUD -->
    <script src="js/users.js" defer></script>
  </body>
</html>
